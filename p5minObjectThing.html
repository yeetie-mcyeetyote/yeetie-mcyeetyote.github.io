<html>

<head>
  <script src="p5.min.js"></script>
  <style>
    body {
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    
  </style>
</head>

<body>
  <script>
    var w = window.innerWidth;
    var h = window.innerHeight;
    var ball = new ball(); //im am create new object globally
    var enemy = new enemy();
    var stationary = new stationary();
    var d;

let timer = 20

    function setup() {
      createCanvas(w, h);
    }



    function draw() {
      background(0);
      ball.show();
      ball.move();
      enemy.show();
      enemy.move();
      enemy.kill();
      stationary.show();
      stationary.kill();
      stationary.murder();
      
      textAlign(CENTER, CENTER);
  textSize(200);
  text(timer, width/2, height/2);
  
  // while (timer > 0) {  // this doesn't work because it's all happening at the same time
  //   timer --;
  // }
  
  // frameCount --> this keeps track of the number of times the program has gone throught the code, 60 = 1 second
  // % ---> this is the Modulo operator, it divides numbers and evaluates to the remainder: 17 % 5 evaluates to 2 remainder
  // this can be used to determine if the number on the left is divisible by the number on the right
  
  if (frameCount % 60 == 0 && timer > 0) { // if the frameCount is divisible by 60, then a second has passed. it will stop at 0
    timer --;
  }
  if (timer == 0) {
    text("GAME OVER", width/2, height*0.7);
    
  }
    
    }
      function ball() {
        this.x = w-101;
        this.y = h-101;
        this.show = function () {

          fill(color('red'));
          ellipse(this.x, this.y, 101, 101);
        }

        this.move = function () {
          //w
      if ((keyIsDown(87)) && (this.y > 0)){
        this.y -=10;
        
      }
      //s
      if ((keyIsDown(83)) && (this.y < h-100)){
        this.y +=10;
        
      }
      //a
      if ((keyIsDown(65)) && (this.x > 0)){
        this.x -=10;
        
      }
      //d
      if ((keyIsDown(68)) && (this.x < w-100)){
        this.x +=10;
        
      }
        }
      

      }


      function enemy() {
        this.x = 0+101;
        this.y = 0+101;
        this.show = function () {
         
          fill(color('blue'));
          ellipse(this.x, this.y, 101, 101);
        }

        this.move = function () {
           //i
      if ((keyIsDown(73)) && (this.y > 0)){
        this.y -=10;
        
      }
      //k
      if ((keyIsDown(75)) && (this.y < h-100)){
        this.y +=10;
        
      }
      //
      if ((keyIsDown(74)) && (this.x > 0)){
        this.x -=10;
        
      }
      //l
      if ((keyIsDown(76)) && (this.x < w-100)){
        this.x +=10;
        
      }
        }
      
         this.kill = function() {
        d = dist(this.x,this.y,ball.x,ball.y);
        if (d < 90) {
          noLoop();
          window.alert("red lose");
        }
      }
       
      }
      
      
      function stationary() {
       this.x = w/2;
       this.y = h/2;
        this.show = function () {
         
          fill(color('green'));
          ellipse(this.x, this.y, 101, 101);
        }

        
         this.kill = function() {
        d = dist(this.x,this.y,ball.x,ball.y);
        if (d < 95) {
          noLoop();
          window.alert("red lose");
        }
         }
          this.murder = function() {
        d = dist(this.x,this.y,enemy.x,enemy.y);
        if (d < 95) {
          noLoop();
          window.alert("blue lose");
        }
      }
       
      
         
      }
      
  </script>

</body>

</html>